Orden Ejecución,Fase Estratégica,ID,Bloque,Tarea,Prioridad,Estado,Horas Est.,Herramienta,Flujo Maestro,Aprendizaje Clave,Prompt Maestro / Referencia,Descripción Detallada,Nivel de Dificultad
1,Fase 1: Ingesta (El Ojo),1.01,01 Cimientos,Init Next.js 16.1 & TS,Alta,Backlog,3.0,Cursor,Terminal + Chat,Turbopack Stable,"PROMPT: Create Next.js 16.1 project with TS, Tailwind, and App Router. Enable Turbopack and React 19 features.",Inicialización del entorno de desarrollo utilizando Next.js 16.1 (versión experimental o estable más reciente) junto con TypeScript. Se configura el 'App Router' para el enrutamiento moderno y se habilita 'Turbopack' para acelerar la compilación en desarrollo. El objetivo es tener una base sólida que soporte las nuevas características de React 19 como Server Actions y useOptimistic.,Media
2,Fase 1: Ingesta (El Ojo),1.02,01 Cimientos,Shadcn/UI v2 Setup,Alta,Backlog,3.0,Cursor Composer,Composer Directo,Modern UI Library,PROMPT: Generate a legal-themed dashboard shell with shadcn/ui v2 for Next.js 16 Server Actions.,"Instalación y configuración de la biblioteca de componentes Shadcn/UI v2. Esta tarea implica usar Cursor Composer para generar una estructura base (shell) de la aplicación que tenga una estética profesional y sobria, adecuada para el sector legal. Se personalizarán los temas (theme) para reflejar seriedad y confianza.",Media
3,Fase 1: Ingesta (El Ojo),1.03,01 Cimientos,Supabase Auth & Config,Alta,Backlog,2.0,Cursor,Composer (CMD+I),Server Client Logic,PROMPT: Setup Supabase SSR client for Next.js 16.1 using the latest auth helpers and middleware.,"Configuración de la autenticación con Supabase Auth utilizando el paquete SSR (Server-Side Rendering) para Next.js. Se implementan los 'auth helpers' y el middleware necesario para proteger las rutas privadas, asegurando que solo usuarios autenticados puedan acceder al dashboard y gestión de causas.",Media
4,Fase 1: Ingesta (El Ojo),2.01,02 Storage,Bucket de Expedientes,Alta,Backlog,3.0,Supabase AI,Dashboard AI,Secure Blob Storage,PROMPT: Create 'case-files' bucket in Supabase with RLS policies tied to auth.uid() in file metadata.,"Creación y configuración de un Bucket en Supabase Storage dedicado exclusivamente a 'case-files' (expedientes). Se configuran políticas de seguridad (RLS) para que los archivos subidos tengan metadatos vinculados al ID del usuario (auth.uid), impidiendo accesos cruzados no autorizados entre cuentas de abogados diferentes.",Media
5,Fase 1: Ingesta (El Ojo),1.04,01 Cimientos,SQL: Perfiles & RLS,Alta,Backlog,7.5,Supabase AI,Dashboard AI,Multi-tenant Security,"PROMPT: SQL for 'profiles' with plan_type, case_limit (40/500) and pro_credits (10/100). Add RLS for owner-only access.","Diseño y ejecución de scripts SQL en Supabase para crear la tabla 'profiles'. Se definen columnas críticas como 'plan_type' (para distinguir cuentas Free/Pro), 'case_limit' (cuotas de causas) y 'pro_credits' (créditos para uso de IA avanzada). Se aplican políticas RLS (Row Level Security) estrictas para que cada abogado solo pueda ver sus propios datos.",Alta
6,Fase 1: Ingesta (El Ojo),4.01,04 Scraper,Extension Init (V3),Alta,Backlog,6.0,Cursor,Chrome API,SidePanel API 2026,PROMPT: Init Chrome Extension Manifest V3 with a sidePanel that activates on pjud.cl domain.,"Inicialización del proyecto de Extensión de Chrome bajo el estándar Manifest V3. Se configura el permiso 'sidePanel' para que la extensión abra un panel lateral automáticamente o mediante clic cuando el usuario navega por el dominio 'pjud.cl' (Poder Judicial), integrándose en el flujo de trabajo del abogado.",Media
7,Fase 1: Ingesta (El Ojo),4.03,04 Scraper,Direct Upload API,Alta,Backlog,6.0,Cursor,API Routes,Secure Tunneling,PROMPT: Next.js 16 route to receive PDF blobs from extension and stream directly to Supabase Storage.,Creación de un endpoint seguro (API Route) en Next.js diseñado para recibir 'blobs' (archivos binarios) directamente desde la extensión de Chrome. Este túnel permite subir los PDFs descargados del PJUD directamente al almacenamiento en la nube (Supabase) sin que el usuario tenga que guardarlos primero en su disco duro local.,Media
8,Fase 1: Ingesta (El Ojo),5.01,05 Frontend,Dashboard Automatizado,Alta,Backlog,12.5,Cursor Composer,Composer Directo,No-Upload UX,PROMPT: UI cases list that updates automatically when files are synced via extension sidepanel. Use React 19 useOptimistic hook for immediate feedback.,"Desarrollo del Dashboard principal que lista las causas importadas. La clave es la sincronización en tiempo real: la interfaz debe actualizarse automáticamente (sin recargar) en cuanto la extensión de Chrome sube un nuevo expediente, utilizando las capacidades de suscripción a base de datos de Supabase o revalidación de Next.js. Se debe implementar el hook 'useOptimistic' de React 19 para mostrar el archivo en la lista inmediatamente mientras se sube en segundo plano.",Muy Alta
9,Fase 1: Ingesta (El Ojo),1.06,01 Cimientos,Next.js 'use cache' Setup,Alta,Backlog,4.0,Cursor,Config Next.js,Performance 2026,PROMPT: Implement 'use cache' directive in server components to optimize case list fetching speed.,"Implementación de la directiva 'use cache' de Next.js (característica avanzada de la versión 16) en los componentes del servidor. El objetivo es cachear agresivamente las listas de causas y datos estáticos para que la carga de la página sea instantánea, mejorando la experiencia de usuario frente a sistemas judiciales lentos.",Media
10,Fase 2: Inteligencia (El Cerebro),3.01,03 Motor IA,Gemini 3 Vertex Setup,Alta,Backlog,10.0,Cursor,Composer (CMD+I),Streaming Gemini 3,PROMPT: Implement generateContentStream using Vertex AI SDK for Gemini 3 Flash/Pro models.,"Desarrollo del servicio backend que conecta con Vertex AI para invocar a Gemini 3 (modelos Flash y Pro). Se implementa la función 'generateContentStream' para permitir que la respuesta de la IA se escriba progresivamente en la pantalla del usuario (streaming), evitando tiempos de espera largos en análisis complejos.",Media
11,Fase 2: Inteligencia (El Cerebro),3.02,03 Motor IA,Gemini 3 2M Context,Alta,Backlog,6.0,Cursor (Sonnet 4.5),Chat (CMD+L),Large Window Logic,PROMPT: Optimize PDF ingestion for Gemini 3 Pro 2M context window to handle thousands of pages in one session.,"Optimización del flujo de ingesta de documentos para aprovechar la ventana de contexto de 2 millones de tokens de Gemini 3 Pro. Esta tarea implica lógica para concatenar múltiples PDFs de un expediente en un solo 'prompt' masivo sin perder la referencia de las páginas, permitiendo un análisis holístico de la causa.",Alta
12,Fase 2: Inteligencia (El Cerebro),5.02,05 Frontend,Sidebar UI & Stream,Alta,Backlog,30.0,Cursor Composer,Composer Directo,Embedded Chat,"PROMPT: UI for the SidePanel chat. Must show streaming text, thinking status, and page citations.","Construcción de la interfaz de chat en la barra lateral (SidePanel) de la extensión y la web. Debe soportar renderizado de Markdown, mostrar el estado de 'Pensando...' de la IA y, lo más importante, convertir las citas de página '[Página X]' en enlaces clicables que lleven al usuario al punto exacto del documento.",Muy Alta
13,Fase 2: Inteligencia (El Cerebro),1.05,01 Cimientos,Gemini 3 Native Mapping,Media,Backlog,2.0,Cursor (Sonnet 4.5),Chat (CMD+L),Thinking API Config,"REF: Map Gemini 3 native thinking_level parameter to UI choices: Minimal, Low, High, Deep.","Mapeo de la API nativa de Gemini 3. Se crea una utilidad o servicio en el código que traduzca las opciones de interfaz de usuario (ej. 'Análisis Rápido', 'Análisis Profundo') al parámetro técnico 'thinking_level' de la API de Google Vertex AI. Esto permite controlar la profundidad del razonamiento del modelo.",Alta
14,Fase 2: Inteligencia (El Cerebro),3.03,03 Motor IA,Dynamic Thinking Router,Alta,Backlog,6.0,Cursor (Sonnet 4.5),Architecture,Native AI Reasoning,PROMPT: Logic to set 'thinking_level' to high/deep only if user has pro_credits > 0 and Plan Pro.,Implementación de un 'Router de Pensamiento' dinámico. Es una lógica de negocio que decide automáticamente si una pregunta del usuario requiere el modelo 'Flash' (barato y rápido) o el modelo 'Pro' (caro y profundo) basándose en la complejidad de la consulta y el saldo de créditos 'pro_credits' disponible en la cuenta del usuario.,Media
15,Fase 2: Inteligencia (El Cerebro),3.04,03 Motor IA,Citation & Hallucination Guard,Alta,Backlog,6.0,Cursor/Claude,System Prompt,Legal Trust,"PROMPT: System instruction to force 'Exact Quote [Page X]' format. If Gemini cannot find the exact text in context, it must answer 'No encontrado' instead of inventing.","Implementación de un sistema de seguridad contra alucinaciones (Guardrails). Se diseña un 'System Prompt' estricto que obliga al modelo a citar textualmente la fuente con formato '[Página X]' cada vez que hace una afirmación fáctica. Si el dato no está en el expediente, el modelo se instruye para responder 'No encontrado' en lugar de inventar.",Media
16,Fase 3: Producción (El Escudo),4.02,04 Scraper,Smart Scraper (Remote Config),Alta,Backlog,12.0,Cursor / RooCode,JS Selectors,Resilience to PJUD updates,"PROMPT: Script that fetches CSS selectors from Supabase DB before scraping. If pjud.cl changes, we update DB, not the extension code.","Desarrollo de un scraper inteligente y resiliente. En lugar de tener los selectores CSS (ids, clases) hardcodeados en la extensión, el script los descarga dinámicamente desde la base de datos Supabase al iniciarse. Esto permite actualizar la lógica de extracción remotamente si el sitio del PJUD cambia su diseño, sin redistribuir la extensión.",Media
17,Fase 3: Producción (El Escudo),4.05,04 Scraper,PDF OCR Pre-Check,Media,Backlog,4.5,Cursor,Client/Server Logic,Cost Optimization,"PROMPT: Logic to detect if PDF is 'image-only' (0 text). If so, warn user or trigger a lightweight OCR worker before sending 2M tokens to Gemini.","Lógica de pre-chequeo de calidad de PDF. El sistema analiza los primeros bytes o estructura del PDF subido para detectar si es un documento de 'solo imagen' (escaneado sin OCR). Si es así, alerta al usuario o lo marca para un flujo de OCR, evitando enviar 'ruido' costoso a la ventana de contexto de Gemini.",Media
18,Fase 3: Producción (El Escudo),6.03,06 Negocio,Privacy Consent Modal,Alta,Backlog,3.0,Cursor Composer,Composer Directo,Liability Protection,PROMPT: Modal on first upload: 'I certify these are non-reserved civil documents'. Explain data is processed by AI and deleted/cached according to policy.,"Implementación de una modal de consentimiento legal obligatoria. Al primer uso o subida, el usuario debe marcar casillas aceptando que los documentos subidos son causas civiles no reservadas y reconociendo que el procesamiento es realizado por IA, limitando la responsabilidad legal de la plataforma.",Media
19,Fase 3: Producción (El Escudo),4.04,04 Scraper,Owner & Credit Guard,Alta,Backlog,6.0,Cursor,Chat (CMD+L),Backend Security,PROMPT: Middleware to verify user limits and decrement pro_credits BEFORE executing Gemini 3 inference.,"Middleware de protección de recursos y facturación. Antes de procesar cualquier solicitud a la IA, este código verifica en la base de datos si el usuario tiene saldo positivo de 'pro_credits'. Si tiene saldo, lo decrementa atómicamente; si no, bloquea la solicitud y sugiere un upgrade, protegiendo la rentabilidad del SaaS.",Media
20,Fase 3: Producción (El Escudo),6.01,06 Negocio,Stripe & Webhooks,Alta,Backlog,5.0,Supabase Wrappers,Stripe Dash,Automatic Billing,REF: Enable Stripe Wrapper in Supabase. Map 'subscriptions' table directly to Stripe API. No manual webhooks.,"Configuración de pagos simplificada utilizando Supabase Stripe Wrappers (característica 2025/2026). En lugar de programar webhooks manualmente, se mapean las tablas de Stripe directamente como tablas foráneas en Postgres, permitiendo consultar el estado de la suscripción con SQL simple y ahorrando horas de desarrollo backend.",Alta
21,Fase 3: Producción (El Escudo),2.02,02 Storage,Privacy: Vertex 3 Logs,Alta,Backlog,1.5,Google Console,GCP Config,Legal Compliance,REF: Disable data logging and model training in Vertex AI Gemini 3 settings for attorney-client privilege.,"Auditoría y configuración de privacidad en Google Cloud Platform (Vertex AI). Se deshabilitan explícitamente las opciones de 'Logging' y 'Training' para garantizar que Google no utilice los datos de las causas civiles procesadas para entrenar sus